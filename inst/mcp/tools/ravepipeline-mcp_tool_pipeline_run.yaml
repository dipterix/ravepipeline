# This file is automatically generated by ravepipeline::mcptool_build(). 
# Please never edit this file by hand!
name: ravepipeline-mcp_tool_pipeline_run
description: 'Execute the pipeline. This will run computations - request explicit
  user approval before calling. Can run all targets or specific ones. Use `ravepipeline-mcp_tool_pipeline_get_info`
  to discover valid target names. Execution may take seconds to hours depending on
  pipeline complexity and data size. Must call ravepipeline-mcp_tool_pipeline_load
  first. ## When to Use Only when user confirms they want to execute the analysis.
  ## Preconditions - Pipeline must be loaded - Settings must be configured via mcp_tool_pipeline_set_settings
  - User must explicitly approve execution ## Best Practices - DO: Present action
  details to user (tool, purpose, parameters, expected outcomes) - DO: Wait for explicit
  user confirmation - NEVER auto-approve - DO: Confirm execution started after approval
  - DON''T: Execute without explicit user consent - DON''T: Auto-approve dangerous
  operations'
parameters:
  type: object
  properties:
    target_names:
      type: array
      description: 'Specific target names to run. If empty, runs all targets. Pipeline
        automatically determines dependencies, so specifying a target will also run
        its upstream dependencies if needed. Default is empty. Do not guess names;
        check valid targets first. Example values: "settings_path", "settings", "repository".'
      items:
        type: string
      examples:
      - settings_path
      - settings
      - repository
category: execution
dangerous: yes
requires_approval: yes
returns:
  type: object
  properties:
    progress:
      type: object
      description: List, progress information if execution failed partway through
    error:
      type: string
      description: Character, error message if success is FALSE
    result_summary:
      type: object
      description: 'Data frame summarizing results with columns: name, type, data,
        command, depend, seed, path, time, size, bytes, format, repository, iteration,
        parent, children, seconds, warnings, error'
    message:
      type: string
      description: Character, human-readable status message
    success:
      type: boolean
      description: Logical, whether pipeline execution completed successfully
implementation_example: |
  # Complete example:
  # The tool invokes an internal call to `ravepipeline:::mcp_tool_pipeline_run`
  # From within R. While users should not execute the function directly,
  # this function has the following equivalent implementation:
  # Example using pipeline_name called "power_explorer" on "demo/DemoSubject"
  # subject ID (A RAVE subject ID has <project/subject> format)
  # Prepare: load & set pipeline
  pipe <- ravepipeline::pipeline("power_explorer")
  pipe$set_settings(project_name = "demo", subject_code = "DemoSubject")
  # Run specific target(s)
  pipe$run(names = c("settings"), return_values = FALSE)
  list(
    success = TRUE,
    message = "Pipeline execution completed",
    result_summary = head(pipe$result_table, 3) # Truncated
  )
  #
  #> $success
  #> [1] TRUE
  #> 
  #> $message
  #> [1] "Pipeline execution completed"
  #> 
  #> $result_summary
  #> # A tibble: 2 × 18
  #>   name  type  data  command depend    seed path  time                size  bytes
  #>   <chr> <chr> <chr> <chr>   <chr>    <int> <lis> <dttm>              <chr> <dbl>
  #> 1 sett… stem  ecb2… 0bc648… 2c530…  8.53e8 <chr> 2026-01-23 02:50:29 s170…  1702
  #> 2 sett… stem  aca4… f2df9b… 3690f… -4.16e8 <chr> 2026-01-23 02:50:30 s928b   928
  #> # ℹ 8 more variables: format <chr>, repository <chr>, iteration <chr>,
  #> #   parent <chr>, children <list>, seconds <dbl>, warnings <chr>, error <chr>
  #>
execution_time: 0.51
