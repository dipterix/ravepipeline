<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write RAVE MCP workflow to a file — mcpflow_write • ravepipeline</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write RAVE MCP workflow to a file — mcpflow_write"><meta name="description" content="Writes a workflow object to YAML and/or Markdown format."><meta property="og:description" content="Writes a workflow object to YAML and/or Markdown format."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ravepipeline</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/using-pipeline-class.html">Using RAVE Pipelines Programmatically</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dipterix/ravepipeline/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Write RAVE MCP workflow to a file</h1>
      <small class="dont-index">Source: <a href="https://github.com/dipterix/ravepipeline/blob/main/R/mcp-workflows.R" class="external-link"><code>R/mcp-workflows.R</code></a></small>
      <div class="d-none name"><code>mcpflow_write.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Writes a workflow object to <code>YAML</code> and/or <code>Markdown</code> format.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mcpflow_write</span><span class="op">(</span></span>
<span>  <span class="va">workflow</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"yaml"</span>, <span class="st">"markdown"</span>, <span class="st">"both"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-workflow">workflow<a class="anchor" aria-label="anchor" href="#arg-workflow"></a></dt>
<dd><p>A <code>'ravepipeline_mcp_workflow'</code> object</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Character. Output file path. File extension determines format
(<code>.yaml</code> for <code>YAML</code>, <code>.md</code> for <code>Markdown</code>). If no extension, writes both
formats</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character. Output format: <code>"yaml"</code> (default),
<code>"markdown"</code>, or <code>"both"</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments (currently unused)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisibly returns the path to written file</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read from a package</span></span></span>
<span class="r-in"><span><span class="fu"><a href="mcpflow_read.html">mcpflow_read</a></span><span class="op">(</span><span class="st">"ravepipeline::rave_pipeline_class_guide"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RAVE MCP Workflow: &lt;rave_pipeline_class_guide&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description: AI Assistant Workflows for RAVE MCP Tools - Comprehensive gu ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Version: 1.0.0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Category: guide </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   MCP Tools: 8 (attached)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Jobs: 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Examples: 3 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read a workflow</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"mcp"</span>, <span class="st">"workflows"</span>, <span class="st">"rave_pipeline_class_guide.yaml"</span>,</span></span>
<span class="r-in"><span>  package <span class="op">=</span> <span class="st">"ravepipeline"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wf</span> <span class="op">&lt;-</span> <span class="fu"><a href="mcpflow_read.html">mcpflow_read</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Write as YAML to temporary file</span></span></span>
<span class="r-in"><span><span class="fu">mcpflow_write</span><span class="op">(</span><span class="va">wf</span>, <span class="fu"><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout</a></span><span class="op">(</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"yaml"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> name: rave_pipeline_class_guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> description: AI Assistant Workflows for RAVE MCP Tools - Comprehensive guide for using</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RAVE MCP tools to help users with neuroscience data analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> version: 1.0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> category: guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tags:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - neuroscience</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - data-analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - workflows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> prompt_sections:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   core:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - overview</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool_guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - warnings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - coding_guidelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - code_generation_rules</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mcp_tools:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_configure_output_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tool_guide:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: User asks about available analyses or pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Always start here - never assume pipeline names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: After identifying a pipeline, before any other operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Required before get_info, set_settings, or run</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions: Know the pipeline name from mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: Need parameter schema, validation rules, or pipeline details</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Use this to discover required parameters before configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions: Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: User provides parameter values or you need to configure analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Always validate against schema from get_info first</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Parameters validated against schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: User confirms they want to execute the analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dangerous: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Settings must be configured</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - User must explicitly approve execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: monitoring</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: After starting execution, to track progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Poll every 5 seconds until status is 'completed'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions: Pipeline execution has been started</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: Pipeline execution completed successfully</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Read specific pipeline results. If unsure which result names are available,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     run ravepipeline-mcp_get_current_rave_pipeline_info to see the 'targets' field.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     WARNING: Calling without target_names extracts ALL results, which can be memory-intensive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     and slow for large datasets. Always specify target_names when possible.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline execution completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Know target names from pipeline info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_configure_output_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: Need to adjust output format for large results or token optimization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Controls how tool results are formatted:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - JSON (structured, machine-readable) vs text (human-readable)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Automatically falls back to text for large/complex objects</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Adjust thresholds based on your needs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   examples:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Results too large? Increase max_size_for_json_output to 102400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Want more compact output? Reduce max_print_lines to 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Need detailed output? Increase max_print_lines to 500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> overview: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RAVE (Reproducible Analysis and Visualization of iEEG) is primarily built</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   with R programming language. Please use R language for reference.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   The RAVE-MCP tools enable AI assistants to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Discover and explore available analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Configure pipeline parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Execute analyses with proper validation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Monitor execution progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Retrieve and visualize results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> best_practices:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Always Start with Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Call ravepipeline-mcp_list_rave_pipelines to find available options</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Load the relevant pipeline with ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Get parameter details with ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Present options to user with descriptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Immediately try to run with guessed pipeline names or parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Code Generation Workflow</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     When user asks for code:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Call ravepipeline-mcp_list_rave_pipelines to find correct pipeline name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Call ravepipeline-mcp_load_rave_pipeline with the correct name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Call ravepipeline-mcp_get_current_rave_pipeline_info to get:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        - Available targets from targets$Names (for pipe$read())</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        - Current settings (use as defaults)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        - Parameter constraints</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Generate code using ONLY methods shown in implementation_example:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        - pipe$read(target_name, simplify = FALSE) to read results (use 'pipe' variable, not 'pipeline')</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        - pipe$set_settings(...) to configure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        - pipe$run(names = 'target', return_values = FALSE) to execute</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     5. Use base R for plotting (plot, lines, legend) and data manipulation (aggregate, subset)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Guess pipeline names, target names, or method names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Use tidyverse packages (dplyr, ggplot2, tidyr, purrr)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Invent methods like $get_result(), $execute(), $get()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Use the magrittr pipe %&gt;%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Use variable name 'pipeline' (use 'pipe' instead to avoid function name conflict)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Progressive Code Generation (Discovery-First Pattern)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     When generating R code that works with pipeline results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Step 1 - DISCOVERY PHASE (Always do this first):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1. Load pipeline and run it to generate results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2. Call ravepipeline-mcp_get_current_rave_pipeline_info to get targets$Names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       3. Read specific result: pipe$read("target_name", simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       4. Inspect structure: str(result_object) or dim(array_object)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       5. Verify FileArray dimension order, data frame columns, object classes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Step 2 - CODE GENERATION PHASE (Only after discovery):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1. Write code based on DISCOVERED structure, not assumptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2. Example: If str() shows array is [Frequency, Time, Trial, Electrode],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          write code using indices in that order: power_array[freq_idx, time_idx, trial_idx, electrode_idx]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       3. For FileArray objects, always use simplify = FALSE to preserve class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Example workflow:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pipe$run(names = "power")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     power &lt;- pipe$read("power", simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     str(power)  # Shows: num [1:100, 1:200, 1:30, 1:10] - [Freq, Time, Trial, Elec]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Now generate code with correct indices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     freq_idx &lt;- which(frequencies &gt; 70 &amp; frequencies &lt; 150)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     high_gamma &lt;- power[freq_idx, , , ]  # Correct: freq is 1st dimension</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Assume dimension order without checking (e.g., guessing [Time, Freq] when it's actually [Freq, Time])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Read all results with pipe$read() for discovery (use info tool instead)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Generate code before inspecting actual data structure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Simplify FileArray objects (always use simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Validate Before Executing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Load pipeline and get parameter schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Validate all parameters against schema (types, ranges, enums)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Confirm settings with user before execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Then execute</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Set parameters and run without checking schema or user confirmation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Monitor Long-Running Operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Start pipeline execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Poll ravepipeline-mcp_get_current_rave_pipeline_progress every 5 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Report progress to user: "Processing: 45% complete..."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Confirm completion: "Analysis finished successfully!"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Start pipeline and assume it completed without checking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Provide Context with Results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Present interpreted results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "Analysis complete! Here's what I found:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - Power spectrum peak at 12 Hz (alpha band)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - Mean power: 15.3 µV²/Hz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Would you like me to visualize these results?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Return raw data dumps without interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Handle Errors Gracefully</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Explain what went wrong and suggest fixes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "The analysis encountered an error: 'Invalid frequency range'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      The requested range (2-500 Hz) exceeds Nyquist frequency (500 Hz).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Would you like me to rerun with 2-400 Hz instead?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Just say 'Error occurred' and stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Required Approval Workflows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     For dangerous operations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Present action details: tool, purpose, parameters, expected outcomes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Wait for explicit user confirmation - NEVER auto-approve</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Execute only after approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Confirm execution started</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Execute dangerous operations without explicit user consent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Parameter Validation Checklist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Before setting parameters, validate:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Type validation: string, number, boolean, array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Enum validation: value in allowed list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Range validation: numeric bounds, string length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Required parameters: all present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Dependencies: conditional parameters valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Pass parameters without validation against schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Output Format Optimization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     (Typically you don't need this tool)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Outputs of RAVE MCP are typically JSON. However, in some cases, the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     outputs might show R's direct output. This is because either some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     objects in the returns cannot be serialized to JSON (such as R environment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     or external pointers), or the object size is too large. If you read the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     outputs and find the object should be able to serialize to JSON but did</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     not, adjust output settings for optimal results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. If results fail JSON serialization because the object is simply too large: increase max_size_for_json_output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. If text output is too verbose: reduce max_print_lines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. If you need more detail: increase max_print_lines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Example: mcp_configure_output_settings(max_size_for_json_output = 51200)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Accept default limits when results are truncated or fail.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Never execute this tool right after dangerous operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> anti_patterns:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - pattern: Using 'pipeline' as variable name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wrong: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pipeline &lt;- ravepipeline::pipeline("power_explorer")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   why: '''pipeline'' is both a function name and variable - creates confusion'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   correct: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pipe &lt;- ravepipeline::pipeline("power_explorer")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # This clearly distinguishes the instance from the function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - pattern: Reading all results to discover names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wrong: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Don't do this - expensive!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     results &lt;- pipe$read()  # Loads ALL results into memory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   why: Extracts all results which can be slow and memory-intensive for large datasets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   correct: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # First, check what targets are available</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     info &lt;- ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Look at info$targets to see available result names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Then read only what you need</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     result &lt;- pipe$read("specific_target_name", simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - pattern: Using non-existent pipeline methods</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wrong: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     data &lt;- pipe$get_result("power")     # DOES NOT EXIST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pipe$execute()                       # DOES NOT EXIST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pipe$run()                          # Missing return_values = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   why: These methods don't exist or have wrong signatures</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   correct: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     data &lt;- pipe$read("power", simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pipe$run(names = "target", return_values = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - pattern: Guessing parameter or result names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wrong: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pipe$set_settings(baseline = c(-1, 0))  # Guessed parameter name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     power &lt;- pipe$read("high_gamma_power")  # Guessed result name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   why: Parameter and result names vary by pipeline - always verify first</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   correct: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Always call info tool first to discover actual names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     info &lt;- ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Check current_settings for parameter names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Check targets for result names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pipe$set_settings(actual_param_name = value)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - pattern: Using tidyverse packages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wrong: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     library(dplyr)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     df %&gt;% filter(Freq &gt; 70) %&gt;% group_by(Condition) %&gt;% summarize(mean_power = mean(Power))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   why: Tidyverse not allowed unless shown in user's sessionInfo</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   correct: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     df_filtered &lt;- df[df$Freq &gt; 70, ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     aggregate(Power ~ Condition, data = df_filtered, FUN = mean)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - pattern: Ignoring implementation examples</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wrong: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Inventing your own pattern</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     results &lt;- pipe$get_data("settings")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   why: Implementation examples in tool definitions show the ONLY correct patterns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   correct: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # Follow the implementation_example exactly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     results &lt;- pipe$read("settings", simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     # This is the canonical pattern from the tool definition</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warnings:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Never execute dangerous operations without explicit user approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Always validate parameters against schema before setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Monitor long-running pipelines - don't assume completion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Handle errors gracefully with clear explanations and recovery suggestions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Start with discovery tools before assuming pipeline names or parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Provide context and interpretation with results, not just raw data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 'For dangerous: true operations, show WARNING and request double confirmation'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coding_guidelines:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 'Package Usage Restrictions: If the user provides session information, ONLY use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   packages listed as attached. Otherwise, the ONLY allowed packages are: `ravecore`,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `ravepipeline`, `ieegio`, `bidsr`, `threeBrain`, `dipsaus`, `filearray`, and standard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   base R packages.'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER use tidyverse packages (dplyr, ggplot2, tidyr, purrr, magrittr) unless explicitly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   shown in user's sessionInfo as attached.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER use the magrittr pipe `%&gt;%`. If a pipe is needed, use R's native `|&gt;` (R &gt;=</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4.1).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Do not guess pipeline result names. If unsure which results are available, run ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   and check the 'targets' field.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - RAVE pipeline results are stored in the pipeline object. Use pipe$read(target_name,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   simplify = FALSE) to access them in generated code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Always use variable name 'pipe' (not 'pipeline') for pipeline instances to avoid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   confusion with the pipeline() function.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Do not try to read non-existent files or variables. Verify existence with discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   tools.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 'CRITICAL: The implementation_example in each tool definition is the ONLY source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   of truth for correct usage patterns. Follow these examples exactly - do not invent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variations or alternatives.'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Do not guess function arguments. If an argument is not in the tool definition or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   example, do not use it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The `ravepipeline` package is the only source of truth. Do not call internal functions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (e.g. `ravepipeline:::...`) unless explicitly shown in an example.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - See the anti_patterns section for common mistakes to avoid.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 'BEFORE suggesting any function: Use btw_tool_docs_package_help_topics() to verify</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   the function exists in that package. If you cannot verify, DO NOT suggest it.'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 'BEFORE using a package: Use btw_tool_session_check_package_installed() to verify</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   it is installed. If not installed, do not use it.'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> code_generation_rules:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   description: MANDATORY rules when generating R code for RAVE pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   before_writing_code:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - ALWAYS call ravepipeline-mcp_list_rave_pipelines to discover available pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - NEVER guess pipeline names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - ALWAYS call ravepipeline-mcp_load_rave_pipeline then ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     to get parameter schema and target names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - NEVER guess target names - read them from the 'targets' field in pipeline info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     (NOT by calling read without arguments)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - NEVER guess parameter names or structures - use 'current_settings' from pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     info as reference, then modify only what user requested</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Use variable name 'pipe' (not 'pipeline') for pipeline instances to avoid naming</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     conflicts with the pipeline() function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - NEVER assume result data structure - after reading results, use str() to inspect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     before writing extraction code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - If you don't know a parameter or target name, STOP and call ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     to look it up</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pipeline_object_methods:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     correct:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$read(target_name) - Read a computed result</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$set_settings(...) - Set parameters (parameter names come from mcp_get_current_rave_pipeline_info)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$run(names = 'target_name', return_values = FALSE) - Run specific target</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$get_settings() - Get current settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     wrong:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$get_result() - DOES NOT EXIST, use pipeline$read()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$get() - DOES NOT EXIST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$execute() - DOES NOT EXIST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$run() without return_values = FALSE - Will print too much output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - pipeline$targets() - DOES NOT EXIST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Guessing parameter names like 'baseline = c(-1, 0)' - MUST check actual parameter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       schema first</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   result_handling:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - After reading a result with pipeline$read(), use str(result) to understand its</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     structure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - NEVER assume result has specific slots like $Power, $Time, $Frequency - inspect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     first</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - If generating code for the user, include a str() call so they can verify the structure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - For array data, document which dimensions correspond to what (time, frequency,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     electrode, trial)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   plotting:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     do: "Use base R graphics:\n```r\nplot(time, power, type = \"l\", col = \"blue\",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       \n     main = \"High-Gamma Power\", xlab = \"Time (s)\", ylab = \"Power\")\nlines(time,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       power2, col = \"red\")\nabline(v = 0, lty = 2)\nlegend(\"topright\", legend</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       = c(\"meant_a\", \"meant_av\"), \n       col = c(\"blue\", \"red\"), lty = 1)\n```\n"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     dont: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       NEVER use ggplot2:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ```r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       # WRONG - do not generate code like this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ggplot(df, aes(x, y)) + geom_line()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   data_manipulation:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Use base R for filtering and aggregation:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ```r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       # Subset</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       df_subset &lt;- df[df$Frequency &gt;= 70 &amp; df$Frequency &lt;= 150, ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       # Aggregate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       agg &lt;- aggregate(Power ~ Condition + Time, data = df_subset, FUN = mean, na.rm = TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       # Split and process</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       by_condition &lt;- split(df, df$Condition)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     dont: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       NEVER use dplyr/tidyverse:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ```r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       # WRONG - do not generate code like this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       df %&gt;% filter(...) %&gt;% group_by(...) %&gt;% summarize(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   electrode_selection:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - If user specifies electrodes, use those exactly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - If user does not specify, check pipeline info for available electrodes or use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     a safe range like 1:100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - NEVER use 'ALL' as a string - use actual electrode numbers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> jobs:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pipeline-discovery:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Pipeline Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Discover and explore available analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: List all pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get all available pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Filter by relevance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Parse results for pipelines matching user's needs (e.g., power,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         spectral, frequency)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load for details</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Load each relevant pipeline to inspect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         over: relevant_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Get parameter info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get details for each loaded pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Present options</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Present options to user with descriptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   configure-and-run:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Configure and Execute Pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Complete workflow from configuration to execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Load the target pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Get parameter schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get parameter schema and validation rules</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Validate requirements</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: validate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Check all required parameters exist and are valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       validation:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         check: All required parameters present and valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         on_fail: error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Set parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Configure pipeline with validated parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Confirm with user</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: confirm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Present settings and request user approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Execute pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Run the analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       dangerous: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Monitor progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Poll until complete</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         until: status == 'completed'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         interval: 5 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Retrieve results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get and present analysis results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iterative-analysis:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Iterative Parameter Exploration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Try different parameters to find optimal settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Set parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         over: parameter_sets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         item: params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Run analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Wait for completion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         until: status == 'completed'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Get results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Evaluate and compare</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: evaluate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Compare results across parameter sets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   results-visualization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Results Visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Read and visualize analysis results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Read result data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Check available results first, then read relevant targets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Present with interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Present visualization with statistical interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   multi-pipeline:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Multi-Pipeline Sequential Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: 'Sequential pipeline execution: Preprocessing → Analysis → Visualization'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load notch filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         pipeline_name: notch_filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Configure filtering</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         settings_json: '{"line_frequencies": [60, 120, 180]}'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Configure line noise frequencies (60 Hz and harmonics)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Execute filtering</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Verify clean data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load wavelet pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         pipeline_name: wavelet_module</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Configure time-frequency analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Configure using filtered data from previous stage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Execute wavelet analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Read wavelet results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Generate visualizations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Generate spectrograms and summary plots</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   batch-processing:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Batch Subject Processing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Analyze multiple subjects with the same pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     strategy:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       parallel: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       max_concurrent: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load pipeline per subject</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         over: subjects</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         item: subject_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Configure subject settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Configure subject-specific settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Start async execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         as_promise: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       dangerous: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Monitor all jobs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         until: all_complete</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         interval: 10 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Collect results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         over: subjects</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Generate group statistics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: aggregate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Generate group-level statistics and comparisons</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   error-recovery:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Error Recovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Handle and recover from pipeline execution errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     if: execution_failed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Check error status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get current status and error messages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Parse error type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: parse_error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: 'Identify issue: missing data, invalid parameter, resource issue'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Review constraints</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Review parameter constraints and valid ranges</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Suggest corrections</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: suggest</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Suggest corrections based on schema and error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Apply corrections</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Apply corrected parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Retry execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> examples:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - trigger: I need to analyze gamma power in my iEEG data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   flow:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Let me check what gamma analysis pipelines are available...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - action: filter_and_present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: I found the power_explorer pipeline which can analyze gamma frequencies.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Let me load it and see what parameters we need.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pipeline_name: power_explorer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: 'To analyze gamma power (30-100 Hz), I''ll need to configure: frequency</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       range, electrodes, and time windows. What electrodes would you like to analyze?'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - trigger: What analysis pipelines are available for power spectral analysis?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   flow:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Let me find available power analysis pipelines...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - action: filter_and_present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       I found 3 pipelines for power spectral analysis:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1. **power_explorer** - Interactive power spectral density visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2. **wavelet_module** - Time-frequency analysis using wavelet transforms</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       3. **coherence_analysis** - Cross-spectral coherence between channels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Would you like details on any of these?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - trigger: Run power analysis on my data with 2-150 Hz frequency range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   flow:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pipeline_name: power_explorer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Loading the power_explorer pipeline...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Let me verify the frequency range parameters...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       settings_json: '{"freq_min": 2, "freq_max": 150}'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: I'll configure the frequency range to 2-150 Hz. Ready to execute?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - action: await_approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: This will run the analysis. Do you want to proceed?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Starting analysis...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: 'Processing: 45% complete...'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Analysis complete! Here are the power spectrum results...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> settings:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dangerous: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   requires_approval: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   estimated_duration: N/A - this is a guide document</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Write as Markdown to temporary file</span></span></span>
<span class="r-in"><span><span class="fu">mcpflow_write</span><span class="op">(</span><span class="va">wf</span>, <span class="fu"><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout</a></span><span class="op">(</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"markdown"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # rave_pipeline_class_guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AI Assistant Workflows for RAVE MCP Tools - Comprehensive guide for using RAVE MCP tools to help users with neuroscience data analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Version**: 1.0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Tags**: neuroscience, data-analysis, pipelines, workflows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## MCP Tools</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This workflow uses the following MCP tools:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_list_rave_pipelines`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_configure_output_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Estimated duration**: N/A - this is a guide document</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Overview</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RAVE (Reproducible Analysis and Visualization of iEEG) is primarily built</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with R programming language. Please use R language for reference.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The RAVE-MCP tools enable AI assistants to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Discover and explore available analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Configure pipeline parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Execute analyses with proper validation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Monitor execution progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Retrieve and visualize results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Tool Guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_list_rave_pipelines`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: User asks about available analyses or pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Always start here - never assume pipeline names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: After identifying a pipeline, before any other operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Required before get_info, set_settings, or run</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Know the pipeline name from mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: Need parameter schema, validation rules, or pipeline details</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Use this to discover required parameters before configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: User provides parameter values or you need to configure analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Always validate against schema from get_info first</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Parameters validated against schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: User confirms they want to execute the analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **WARNING**: This tool is dangerous</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Requires approval** before use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Settings must be configured</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - User must explicitly approve execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: monitoring</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: After starting execution, to track progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Poll every 5 seconds until status is 'completed'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline execution has been started</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: Pipeline execution completed successfully</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Read specific pipeline results. If unsure which result names are available,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> run ravepipeline-mcp_get_current_rave_pipeline_info to see the 'targets' field.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WARNING: Calling without target_names extracts ALL results, which can be memory-intensive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and slow for large datasets. Always specify target_names when possible.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline execution completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Know target names from pipeline info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_configure_output_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: Need to adjust output format for large results or token optimization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Controls how tool results are formatted:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - JSON (structured, machine-readable) vs text (human-readable)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Automatically falls back to text for large/complex objects</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Adjust thresholds based on your needs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Workflow Jobs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Pipeline Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `pipeline-discovery`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Discover and explore available analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **List all pipelines**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_list_rave_pipelines`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get all available pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Filter by relevance**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parse results for pipelines matching user's needs (e.g., power, spectral, frequency)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Load for details**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Load each relevant pipeline to inspect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: over `relevant_pipelines`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Get parameter info**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get details for each loaded pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Present options**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Present options to user with descriptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Configure and Execute Pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `configure-and-run`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Complete workflow from configuration to execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Load pipeline**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Load the target pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Get parameter schema**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get parameter schema and validation rules</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Validate requirements**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: validate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Check all required parameters exist and are valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Validation: `All required parameters present and valid`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - On failure: error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Set parameters**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Configure pipeline with validated parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Confirm with user**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: confirm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Present settings and request user approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. **Execute pipeline**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Run the analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **DANGEROUS, requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7. **Monitor progress**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Poll until complete</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: until `status == 'completed'` every 5 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8. **Retrieve results**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get and present analysis results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Iterative Parameter Exploration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `iterative-analysis`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Try different parameters to find optimal settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Set parameters**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: over `parameter_sets` as `params`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Run analysis**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Wait for completion**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: until `status == 'completed'`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Get results**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Evaluate and compare**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: evaluate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Compare results across parameter sets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Results Visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `results-visualization`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Read and visualize analysis results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Read result data**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Check available results first, then read relevant targets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Present with interpretation**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Present visualization with statistical interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Multi-Pipeline Sequential Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `multi-pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sequential pipeline execution: Preprocessing → Analysis → Visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Load notch filter**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `pipeline_name`: notch_filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Configure filtering**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Configure line noise frequencies (60 Hz and harmonics)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `settings_json`: {"line_frequencies": [60, 120, 180]}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Execute filtering**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Verify clean data**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Load wavelet pipeline**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `pipeline_name`: wavelet_module</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. **Configure time-frequency analysis**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Configure using filtered data from previous stage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7. **Execute wavelet analysis**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8. **Read wavelet results**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9. **Generate visualizations**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Generate spectrograms and summary plots</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Batch Subject Processing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `batch-processing`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analyze multiple subjects with the same pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Strategy**: parallel execution, max 4 concurrent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Load pipeline per subject**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: over `subjects` as `subject_id`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Configure subject settings**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Configure subject-specific settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Start async execution**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **DANGEROUS, requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `as_promise`: TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Monitor all jobs**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: until `all_complete` every 10 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Collect results**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: over `subjects`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. **Generate group statistics**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: aggregate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Generate group-level statistics and comparisons</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Error Recovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `error-recovery`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Handle and recover from pipeline execution errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Condition**: `execution_failed`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Check error status**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get current status and error messages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Parse error type**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: parse_error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Identify issue: missing data, invalid parameter, resource issue</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Review constraints**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Review parameter constraints and valid ranges</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Suggest corrections**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: suggest</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Suggest corrections based on schema and error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Apply corrections**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Apply corrected parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. **Retry execution**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Examples</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Example 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Trigger**: I need to analyze gamma power in my iEEG data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Flow**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Tool: `ravepipeline-mcp_list_rave_pipelines` - Let me check what gamma analysis pipelines are available...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Action: filter_and_present - I found the power_explorer pipeline which can analyze gamma frequencies. Let me load it and see what parameters we need.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Tool: `ravepipeline-mcp_get_current_rave_pipeline_info` - To analyze gamma power (30-100 Hz), I'll need to configure: frequency range, electrodes, and time windows. What electrodes would you like to analyze?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Example 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Trigger**: What analysis pipelines are available for power spectral analysis?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Flow**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Tool: `ravepipeline-mcp_list_rave_pipelines` - Let me find available power analysis pipelines...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Action: filter_and_present - I found 3 pipelines for power spectral analysis:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **power_explorer** - Interactive power spectral density visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **wavelet_module** - Time-frequency analysis using wavelet transforms</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **coherence_analysis** - Cross-spectral coherence between channels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Would you like details on any of these?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Example 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Trigger**: Run power analysis on my data with 2-150 Hz frequency range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Flow**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Tool: `ravepipeline-mcp_load_rave_pipeline` - Loading the power_explorer pipeline...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Tool: `ravepipeline-mcp_get_current_rave_pipeline_info` - Let me verify the frequency range parameters...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings` - I'll configure the frequency range to 2-150 Hz. Ready to execute?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Action: await_approval - This will run the analysis. Do you want to proceed?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. Tool: `ravepipeline-mcp_run_current_rave_pipeline` - Starting analysis...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress` - Processing: 45% complete...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7. Tool: `ravepipeline-mcp_read_current_rave_pipeline_results` - Analysis complete! Here are the power spectrum results...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Warnings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Never execute dangerous operations without explicit user approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Always validate parameters against schema before setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Monitor long-running pipelines - don't assume completion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Handle errors gracefully with clear explanations and recovery suggestions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Start with discovery tools before assuming pipeline names or parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Provide context and interpretation with results, not just raw data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - For dangerous: true operations, show WARNING and request double confirmation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Coding Guidelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **MANDATORY rules when generating R code:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Package Usage Restrictions: If the user provides session information, ONLY use packages listed as attached. Otherwise, the ONLY allowed packages are: `ravecore`, `ravepipeline`, `ieegio`, `bidsr`, `threeBrain`, `dipsaus`, `filearray`, and standard base R packages.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER use tidyverse packages (dplyr, ggplot2, tidyr, purrr, magrittr) unless explicitly shown in user's sessionInfo as attached.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER use the magrittr pipe `%&gt;%`. If a pipe is needed, use R's native `|&gt;` (R &gt;= 4.1).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Do not guess pipeline result names. If unsure which results are available, run ravepipeline-mcp_get_current_rave_pipeline_info and check the 'targets' field.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - RAVE pipeline results are stored in the pipeline object. Use pipe$read(target_name, simplify = FALSE) to access them in generated code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Always use variable name 'pipe' (not 'pipeline') for pipeline instances to avoid confusion with the pipeline() function.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Do not try to read non-existent files or variables. Verify existence with discovery tools.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - CRITICAL: The implementation_example in each tool definition is the ONLY source of truth for correct usage patterns. Follow these examples exactly - do not invent variations or alternatives.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Do not guess function arguments. If an argument is not in the tool definition or example, do not use it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The `ravepipeline` package is the only source of truth. Do not call internal functions (e.g. `ravepipeline:::...`) unless explicitly shown in an example.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - See the anti_patterns section for common mistakes to avoid.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - BEFORE suggesting any function: Use btw_tool_docs_package_help_topics() to verify the function exists in that package. If you cannot verify, DO NOT suggest it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - BEFORE using a package: Use btw_tool_session_check_package_installed() to verify it is installed. If not installed, do not use it.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Code Generation Rules</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> MANDATORY rules when generating R code for RAVE pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Before Writing Code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ALWAYS call ravepipeline-mcp_list_rave_pipelines to discover available pipelines - NEVER guess pipeline names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ALWAYS call ravepipeline-mcp_load_rave_pipeline then ravepipeline-mcp_get_current_rave_pipeline_info to get parameter schema and target names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER guess target names - read them from the 'targets' field in pipeline info (NOT by calling read without arguments)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER guess parameter names or structures - use 'current_settings' from pipeline info as reference, then modify only what user requested</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Use variable name 'pipe' (not 'pipeline') for pipeline instances to avoid naming conflicts with the pipeline() function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER assume result data structure - after reading results, use str() to inspect before writing extraction code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - If you don't know a parameter or target name, STOP and call ravepipeline-mcp_get_current_rave_pipeline_info to look it up</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Pipeline Object Methods</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Correct methods (USE THESE):**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$read(target_name) - Read a computed result`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$set_settings(...) - Set parameters (parameter names come from mcp_get_current_rave_pipeline_info)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$run(names = 'target_name', return_values = FALSE) - Run specific target`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$get_settings() - Get current settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Wrong methods (DO NOT USE):**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$get_result() - DOES NOT EXIST, use pipeline$read()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$get() - DOES NOT EXIST`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$execute() - DOES NOT EXIST`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$run() without return_values = FALSE - Will print too much output`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `pipeline$targets() - DOES NOT EXIST`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `Guessing parameter names like 'baseline = c(-1, 0)' - MUST check actual parameter schema first`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Plotting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use base R graphics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plot(time, power, type = "l", col = "blue", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      main = "High-Gamma Power", xlab = "Time (s)", ylab = "Power")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lines(time, power2, col = "red")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> abline(v = 0, lty = 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> legend("topright", legend = c("meant_a", "meant_av"), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        col = c("blue", "red"), lty = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEVER use ggplot2:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # WRONG - do not generate code like this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ggplot(df, aes(x, y)) + geom_line()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Data Manipulation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Use base R for filtering and aggregation:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Subset</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> df_subset &lt;- df[df$Frequency &gt;= 70 &amp; df$Frequency &lt;= 150, ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Aggregate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> agg &lt;- aggregate(Power ~ Condition + Time, data = df_subset, FUN = mean, na.rm = TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Split and process</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> by_condition &lt;- split(df, df$Condition)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NEVER use dplyr/tidyverse:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # WRONG - do not generate code like this</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> df %&gt;% filter(...) %&gt;% group_by(...) %&gt;% summarize(...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Result Handling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - After reading a result with pipeline$read(), use str(result) to understand its structure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER assume result has specific slots like $Power, $Time, $Frequency - inspect first</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - If generating code for the user, include a str() call so they can verify the structure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - For array data, document which dimensions correspond to what (time, frequency, electrode, trial)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Electrode Selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - If user specifies electrodes, use those exactly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - If user does not specify, check pipeline info for available electrodes or use a safe range like 1:100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - NEVER use 'ALL' as a string - use actual electrode numbers</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Best Practices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Always Start with Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Call ravepipeline-mcp_list_rave_pipelines to find available options</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Load the relevant pipeline with ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Get parameter details with ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Present options to user with descriptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Immediately try to run with guessed pipeline names or parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Code Generation Workflow</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> When user asks for code:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Call ravepipeline-mcp_list_rave_pipelines to find correct pipeline name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Call ravepipeline-mcp_load_rave_pipeline with the correct name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Call ravepipeline-mcp_get_current_rave_pipeline_info to get:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Available targets from targets$Names (for pipe$read())</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Current settings (use as defaults)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameter constraints</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Generate code using ONLY methods shown in implementation_example:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - pipe$read(target_name, simplify = FALSE) to read results (use 'pipe' variable, not 'pipeline')</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - pipe$set_settings(...) to configure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - pipe$run(names = 'target', return_values = FALSE) to execute</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. Use base R for plotting (plot, lines, legend) and data manipulation (aggregate, subset)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Guess pipeline names, target names, or method names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Use tidyverse packages (dplyr, ggplot2, tidyr, purrr)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Invent methods like $get_result(), $execute(), $get()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Use the magrittr pipe %&gt;%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Use variable name 'pipeline' (use 'pipe' instead to avoid function name conflict)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Progressive Code Generation (Discovery-First Pattern)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> When generating R code that works with pipeline results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Step 1 - DISCOVERY PHASE (Always do this first):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1. Load pipeline and run it to generate results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2. Call ravepipeline-mcp_get_current_rave_pipeline_info to get targets$Names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3. Read specific result: pipe$read("target_name", simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4. Inspect structure: str(result_object) or dim(array_object)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5. Verify FileArray dimension order, data frame columns, object classes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Step 2 - CODE GENERATION PHASE (Only after discovery):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1. Write code based on DISCOVERED structure, not assumptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2. Example: If str() shows array is [Frequency, Time, Trial, Electrode],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      write code using indices in that order: power_array[freq_idx, time_idx, trial_idx, electrode_idx]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3. For FileArray objects, always use simplify = FALSE to preserve class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Example workflow:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pipe$run(names = "power")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> power &lt;- pipe$read("power", simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> str(power)  # Shows: num [1:100, 1:200, 1:30, 1:10] - [Freq, Time, Trial, Elec]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Now generate code with correct indices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> freq_idx &lt;- which(frequencies &gt; 70 &amp; frequencies &lt; 150)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> high_gamma &lt;- power[freq_idx, , , ]  # Correct: freq is 1st dimension</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Assume dimension order without checking (e.g., guessing [Time, Freq] when it's actually [Freq, Time])</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Read all results with pipe$read() for discovery (use info tool instead)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Generate code before inspecting actual data structure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Simplify FileArray objects (always use simplify = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Validate Before Executing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Load pipeline and get parameter schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Validate all parameters against schema (types, ranges, enums)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Confirm settings with user before execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Then execute</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameters and run without checking schema or user confirmation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Monitor Long-Running Operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Start pipeline execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Poll ravepipeline-mcp_get_current_rave_pipeline_progress every 5 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Report progress to user: "Processing: 45% complete..."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Confirm completion: "Analysis finished successfully!"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Start pipeline and assume it completed without checking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Provide Context with Results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Present interpreted results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "Analysis complete! Here's what I found:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Power spectrum peak at 12 Hz (alpha band)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Mean power: 15.3 µV²/Hz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Would you like me to visualize these results?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Return raw data dumps without interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Handle Errors Gracefully</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Explain what went wrong and suggest fixes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "The analysis encountered an error: 'Invalid frequency range'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  The requested range (2-500 Hz) exceeds Nyquist frequency (500 Hz).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Would you like me to rerun with 2-400 Hz instead?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Just say 'Error occurred' and stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Required Approval Workflows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> For dangerous operations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Present action details: tool, purpose, parameters, expected outcomes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Wait for explicit user confirmation - NEVER auto-approve</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Execute only after approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Confirm execution started</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Execute dangerous operations without explicit user consent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Parameter Validation Checklist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Before setting parameters, validate:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Type validation: string, number, boolean, array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Enum validation: value in allowed list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Range validation: numeric bounds, string length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Required parameters: all present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Dependencies: conditional parameters valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pass parameters without validation against schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Output Format Optimization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Typically you don't need this tool)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Outputs of RAVE MCP are typically JSON. However, in some cases, the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> outputs might show R's direct output. This is because either some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> objects in the returns cannot be serialized to JSON (such as R environment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> or external pointers), or the object size is too large. If you read the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> outputs and find the object should be able to serialize to JSON but did</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> not, adjust output settings for optimal results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. If results fail JSON serialization because the object is simply too large: increase max_size_for_json_output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. If text output is too verbose: reduce max_print_lines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. If you need more detail: increase max_print_lines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Example: mcp_configure_output_settings(max_size_for_json_output = 51200)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Accept default limits when results are truncated or fail.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Never execute this tool right after dangerous operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

