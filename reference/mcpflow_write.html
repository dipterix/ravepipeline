<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write RAVE MCP workflow to a file — mcpflow_write • ravepipeline</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write RAVE MCP workflow to a file — mcpflow_write"><meta name="description" content="Writes a workflow object to YAML and/or Markdown format."><meta property="og:description" content="Writes a workflow object to YAML and/or Markdown format."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ravepipeline</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/using-pipeline-class.html">Using RAVE Pipelines Programmatically</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dipterix/ravepipeline/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Write RAVE MCP workflow to a file</h1>
      <small class="dont-index">Source: <a href="https://github.com/dipterix/ravepipeline/blob/main/R/mcp-workflows.R" class="external-link"><code>R/mcp-workflows.R</code></a></small>
      <div class="d-none name"><code>mcpflow_write.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Writes a workflow object to <code>YAML</code> and/or <code>Markdown</code> format.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mcpflow_write</span><span class="op">(</span></span>
<span>  <span class="va">workflow</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"yaml"</span>, <span class="st">"markdown"</span>, <span class="st">"both"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-workflow">workflow<a class="anchor" aria-label="anchor" href="#arg-workflow"></a></dt>
<dd><p>A <code>'ravepipeline_mcp_workflow'</code> object</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Character. Output file path. File extension determines format
(<code>.yaml</code> for <code>YAML</code>, <code>.md</code> for <code>Markdown</code>). If no extension, writes both
formats</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character. Output format: <code>"yaml"</code> (default),
<code>"markdown"</code>, or <code>"both"</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments (currently unused)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisibly returns the path to written file</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read from a package</span></span></span>
<span class="r-in"><span><span class="fu"><a href="mcpflow_read.html">mcpflow_read</a></span><span class="op">(</span><span class="st">"ravepipeline::rave_pipeline_class_guide"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RAVE MCP Workflow: &lt;rave_pipeline_class_guide&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Description: AI Assistant Workflows for RAVE MCP Tools - Comprehensive gu ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Version: 1.0.0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Category: guide </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   MCP Tools: 7 (attached)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Jobs: 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Examples: 3 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read a workflow</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"mcp"</span>, <span class="st">"workflows"</span>, <span class="st">"rave_pipeline_class_guide.yaml"</span>,</span></span>
<span class="r-in"><span>  package <span class="op">=</span> <span class="st">"ravepipeline"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wf</span> <span class="op">&lt;-</span> <span class="fu"><a href="mcpflow_read.html">mcpflow_read</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Write as YAML to temporary file</span></span></span>
<span class="r-in"><span><span class="fu">mcpflow_write</span><span class="op">(</span><span class="va">wf</span>, <span class="fu"><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout</a></span><span class="op">(</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"yaml"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> name: rave_pipeline_class_guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> description: AI Assistant Workflows for RAVE MCP Tools - Comprehensive guide for using</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RAVE MCP tools to help users with neuroscience data analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> version: 1.0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> category: guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tags:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - neuroscience</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - data-analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - workflows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mcp_tools:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tool_guide:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: User asks about available analyses or pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Always start here - never assume pipeline names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: After identifying a pipeline, before any other operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Required before get_info, set_settings, or run</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions: Know the pipeline name from mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: Need parameter schema, validation rules, or pipeline details</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Use this to discover required parameters before configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions: Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: User provides parameter values or you need to configure analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Always validate against schema from get_info first</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Parameters validated against schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: User confirms they want to execute the analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dangerous: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Settings must be configured</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - User must explicitly approve execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: monitoring</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: After starting execution, to track progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Poll every 5 seconds until status is 'completed'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions: Pipeline execution has been started</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   category: results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when: Pipeline execution completed successfully</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   notes: Present results with interpretation, not raw data dumps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   preconditions: Pipeline execution completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> overview: "RAVE (Reproducible Analysis and Visualization of iEEG) is primarily built</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \nwith R programming language. Please use R language for reference.\n\nThe RAVE-MCP</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   tools enable AI assistants to:\n- Discover and explore available analysis pipelines\n-</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Configure pipeline parameters\n- Execute analyses with proper validation\n- Monitor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   execution progress\n- Retrieve and visualize results\n"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> best_practices:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Always Start with Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Call mcp_list_rave_pipelines() to find available options</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Load the relevant pipeline with mcp_load_rave_pipeline()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Get parameter details with mcp_get_current_rave_pipeline_info()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Present options to user with descriptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Immediately try to run with guessed pipeline names or parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Validate Before Executing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Load pipeline and get parameter schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Validate all parameters against schema (types, ranges, enums)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Confirm settings with user before execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Then execute</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Set parameters and run without checking schema or user confirmation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Monitor Long-Running Operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Start pipeline execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Poll mcp_get_current_rave_pipeline_progress every 5 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Report progress to user: "Processing: 45% complete..."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Confirm completion: "Analysis finished successfully!"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Start pipeline and assume it completed without checking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Provide Context with Results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Present interpreted results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "Analysis complete! Here's what I found:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - Power spectrum peak at 12 Hz (alpha band)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - Mean power: 15.3 µV²/Hz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Would you like me to visualize these results?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Return raw data dumps without interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Handle Errors Gracefully</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Explain what went wrong and suggest fixes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "The analysis encountered an error: 'Invalid frequency range'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      The requested range (2-500 Hz) exceeds Nyquist frequency (500 Hz).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Would you like me to rerun with 2-400 Hz instead?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Just say 'Error occurred' and stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Required Approval Workflows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     For dangerous operations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1. Present action details: tool, purpose, parameters, expected outcomes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2. Wait for explicit user confirmation - NEVER auto-approve</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3. Execute only after approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4. Confirm execution started</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Execute dangerous operations without explicit user consent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - title: Parameter Validation Checklist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   do: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Before setting parameters, validate:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Type validation: string, number, boolean, array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Enum validation: value in allowed list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Range validation: numeric bounds, string length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Required parameters: all present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - Dependencies: conditional parameters valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dont: Pass parameters without validation against schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> warnings:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Never execute dangerous operations without explicit user approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Always validate parameters against schema before setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Monitor long-running pipelines - don't assume completion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Handle errors gracefully with clear explanations and recovery suggestions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Start with discovery tools before assuming pipeline names or parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Provide context and interpretation with results, not just raw data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 'For dangerous: true operations, show WARNING and request double confirmation'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> jobs:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pipeline-discovery:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Pipeline Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Discover and explore available analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: List all pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get all available pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Filter by relevance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Parse results for pipelines matching user's needs (e.g., power,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         spectral, frequency)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load for details</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Load each relevant pipeline to inspect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         over: relevant_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Get parameter info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get details for each loaded pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Present options</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Present options to user with descriptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   configure-and-run:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Configure and Execute Pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Complete workflow from configuration to execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Load the target pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Get parameter schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get parameter schema and validation rules</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Validate requirements</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: validate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Check all required parameters exist and are valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       validation:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         check: All required parameters present and valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         on_fail: error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Set parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Configure pipeline with validated parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Confirm with user</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: confirm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Present settings and request user approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Execute pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Run the analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       dangerous: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Monitor progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Poll until complete</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         until: status == 'completed'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         interval: 5 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Retrieve results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get and present analysis results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iterative-analysis:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Iterative Parameter Exploration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Try different parameters to find optimal settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Set parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         over: parameter_sets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         item: params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Run analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Wait for completion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         until: status == 'completed'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Get results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Evaluate and compare</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: evaluate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Compare results across parameter sets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   results-visualization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Results Visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Read and visualize analysis results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Read result data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         target_names:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         - plot_data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         - statistics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Present with interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Present visualization with statistical interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   multi-pipeline:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Multi-Pipeline Sequential Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: 'Sequential pipeline execution: Preprocessing → Analysis → Visualization'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load notch filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         pipeline_name: notch_filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Configure filtering</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         settings_json: '{"line_frequencies": [60, 120, 180]}'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Configure line noise frequencies (60 Hz and harmonics)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Execute filtering</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Verify clean data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load wavelet pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         pipeline_name: wavelet_module</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Configure time-frequency analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Configure using filtered data from previous stage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Execute wavelet analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Read wavelet results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Generate visualizations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Generate spectrograms and summary plots</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   batch-processing:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Batch Subject Processing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Analyze multiple subjects with the same pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     strategy:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       parallel: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       max_concurrent: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Load pipeline per subject</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         over: subjects</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         item: subject_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Configure subject settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Configure subject-specific settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Start async execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         as_promise: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       dangerous: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Monitor all jobs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         until: all_complete</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         interval: 10 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Collect results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       loop:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         over: subjects</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Generate group statistics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: aggregate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Generate group-level statistics and comparisons</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   error-recovery:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     name: Error Recovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     description: Handle and recover from pipeline execution errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     if: execution_failed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     steps:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Check error status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Get current status and error messages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Parse error type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: parse_error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: 'Identify issue: missing data, invalid parameter, resource issue'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Review constraints</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Review parameter constraints and valid ranges</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Suggest corrections</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       action: suggest</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Suggest corrections based on schema and error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Apply corrections</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       description: Apply corrected parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - name: Retry execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       requires_approval: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> examples:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - trigger: I need to analyze gamma power in my iEEG data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   flow:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Let me check what gamma analysis pipelines are available...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - action: filter_and_present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: I found the power_explorer pipeline which can analyze gamma frequencies.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Let me load it and see what parameters we need.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pipeline_name: power_explorer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: 'To analyze gamma power (30-100 Hz), I''ll need to configure: frequency</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       range, electrodes, and time windows. What electrodes would you like to analyze?'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - trigger: What analysis pipelines are available for power spectral analysis?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   flow:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Let me find available power analysis pipelines...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - action: filter_and_present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       I found 3 pipelines for power spectral analysis:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1. **power_explorer** - Interactive power spectral density visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2. **wavelet_module** - Time-frequency analysis using wavelet transforms</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       3. **coherence_analysis** - Cross-spectral coherence between channels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Would you like details on any of these?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - trigger: Run power analysis on my data with 2-150 Hz frequency range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   flow:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_load_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pipeline_name: power_explorer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Loading the power_explorer pipeline...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_get_current_rave_pipeline_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Let me verify the frequency range parameters...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_set_current_rave_pipeline_settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     with:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       settings_json: '{"freq_min": 2, "freq_max": 150}'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: I'll configure the frequency range to 2-150 Hz. Ready to execute?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - action: await_approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: This will run the analysis. Do you want to proceed?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_run_current_rave_pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Starting analysis...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_get_current_rave_pipeline_progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: 'Processing: 45% complete...'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - tool: ravepipeline-mcp_read_current_rave_pipeline_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     says: Analysis complete! Here are the power spectrum results...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> settings:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   dangerous: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   requires_approval: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   estimated_duration: N/A - this is a guide document</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Write as Markdown to temporary file</span></span></span>
<span class="r-in"><span><span class="fu">mcpflow_write</span><span class="op">(</span><span class="va">wf</span>, <span class="fu"><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout</a></span><span class="op">(</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"markdown"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # rave_pipeline_class_guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AI Assistant Workflows for RAVE MCP Tools - Comprehensive guide for using RAVE MCP tools to help users with neuroscience data analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Version**: 1.0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Tags**: neuroscience, data-analysis, pipelines, workflows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## MCP Tools</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This workflow uses the following MCP tools:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_list_rave_pipelines`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Estimated duration**: N/A - this is a guide document</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Overview</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RAVE (Reproducible Analysis and Visualization of iEEG) is primarily built </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with R programming language. Please use R language for reference.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The RAVE-MCP tools enable AI assistants to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Discover and explore available analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Configure pipeline parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Execute analyses with proper validation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Monitor execution progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Retrieve and visualize results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Tool Guide</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_list_rave_pipelines`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: User asks about available analyses or pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Always start here - never assume pipeline names</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: After identifying a pipeline, before any other operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Required before get_info, set_settings, or run</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Know the pipeline name from mcp_list_rave_pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: Need parameter schema, validation rules, or pipeline details</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Use this to discover required parameters before configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: configuration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: User provides parameter values or you need to configure analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Always validate against schema from get_info first</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Parameters validated against schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: User confirms they want to execute the analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **WARNING**: This tool is dangerous</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Requires approval** before use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline must be loaded</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Settings must be configured</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - User must explicitly approve execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: monitoring</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: After starting execution, to track progress</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Poll every 5 seconds until status is 'completed'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline execution has been started</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Category**: results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **When to use**: Pipeline execution completed successfully</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Notes**: Present results with interpretation, not raw data dumps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Preconditions**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Pipeline execution completed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Workflow Jobs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Pipeline Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `pipeline-discovery`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Discover and explore available analysis pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **List all pipelines**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_list_rave_pipelines`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get all available pipelines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Filter by relevance**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parse results for pipelines matching user's needs (e.g., power, spectral, frequency)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Load for details**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Load each relevant pipeline to inspect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: over `relevant_pipelines`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Get parameter info**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get details for each loaded pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Present options**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Present options to user with descriptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Configure and Execute Pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `configure-and-run`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Complete workflow from configuration to execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Load pipeline**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Load the target pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Get parameter schema**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get parameter schema and validation rules</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Validate requirements**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: validate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Check all required parameters exist and are valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Validation: `All required parameters present and valid`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - On failure: error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Set parameters**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Configure pipeline with validated parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Confirm with user**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: confirm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Present settings and request user approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. **Execute pipeline**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Run the analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **DANGEROUS, requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7. **Monitor progress**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Poll until complete</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: until `status == 'completed'` every 5 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8. **Retrieve results**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get and present analysis results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Iterative Parameter Exploration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `iterative-analysis`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Try different parameters to find optimal settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Set parameters**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: over `parameter_sets` as `params`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Run analysis**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Wait for completion**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: until `status == 'completed'`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Get results**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Evaluate and compare**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: evaluate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Compare results across parameter sets</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Results Visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `results-visualization`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Read and visualize analysis results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Read result data**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `target_names`: ["plot_data", "statistics"]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Present with interpretation**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Present visualization with statistical interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Multi-Pipeline Sequential Analysis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `multi-pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sequential pipeline execution: Preprocessing → Analysis → Visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Load notch filter**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `pipeline_name`: notch_filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Configure filtering**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Configure line noise frequencies (60 Hz and harmonics)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `settings_json`: {"line_frequencies": [60, 120, 180]}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Execute filtering**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Verify clean data**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Load wavelet pipeline**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `pipeline_name`: wavelet_module</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. **Configure time-frequency analysis**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Configure using filtered data from previous stage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7. **Execute wavelet analysis**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8. **Read wavelet results**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9. **Generate visualizations**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Generate spectrograms and summary plots</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Batch Subject Processing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `batch-processing`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analyze multiple subjects with the same pipeline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Strategy**: parallel execution, max 4 concurrent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Load pipeline per subject**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: over `subjects` as `subject_id`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Configure subject settings**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Configure subject-specific settings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Start async execution**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **DANGEROUS, requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - `as_promise`: TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Monitor all jobs**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: until `all_complete` every 10 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Collect results**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_read_current_rave_pipeline_results`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Loop: over `subjects`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. **Generate group statistics**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: aggregate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Generate group-level statistics and comparisons</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Error Recovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Job ID**: `error-recovery`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Handle and recover from pipeline execution errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Condition**: `execution_failed`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Steps:**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **Check error status**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Get current status and error messages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **Parse error type**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: parse_error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Identify issue: missing data, invalid parameter, resource issue</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **Review constraints**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_get_current_rave_pipeline_info`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Review parameter constraints and valid ranges</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. **Suggest corrections**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Action: suggest</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Suggest corrections based on schema and error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. **Apply corrections**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Apply corrected parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. **Retry execution**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - Tool: `ravepipeline-mcp_run_current_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    - **requires approval**</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Examples</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Example 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Trigger**: I need to analyze gamma power in my iEEG data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Flow**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Tool: `ravepipeline-mcp_list_rave_pipelines` - Let me check what gamma analysis pipelines are available...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Action: filter_and_present - I found the power_explorer pipeline which can analyze gamma frequencies. Let me load it and see what parameters we need.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Tool: `ravepipeline-mcp_load_rave_pipeline`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Tool: `ravepipeline-mcp_get_current_rave_pipeline_info` - To analyze gamma power (30-100 Hz), I'll need to configure: frequency range, electrodes, and time windows. What electrodes would you like to analyze?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Example 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Trigger**: What analysis pipelines are available for power spectral analysis?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Flow**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Tool: `ravepipeline-mcp_list_rave_pipelines` - Let me find available power analysis pipelines...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Action: filter_and_present - I found 3 pipelines for power spectral analysis:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. **power_explorer** - Interactive power spectral density visualization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. **wavelet_module** - Time-frequency analysis using wavelet transforms</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. **coherence_analysis** - Cross-spectral coherence between channels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Would you like details on any of these?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Example 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Trigger**: Run power analysis on my data with 2-150 Hz frequency range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Flow**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Tool: `ravepipeline-mcp_load_rave_pipeline` - Loading the power_explorer pipeline...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Tool: `ravepipeline-mcp_get_current_rave_pipeline_info` - Let me verify the frequency range parameters...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Tool: `ravepipeline-mcp_set_current_rave_pipeline_settings` - I'll configure the frequency range to 2-150 Hz. Ready to execute?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Action: await_approval - This will run the analysis. Do you want to proceed?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5. Tool: `ravepipeline-mcp_run_current_rave_pipeline` - Starting analysis...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6. Tool: `ravepipeline-mcp_get_current_rave_pipeline_progress` - Processing: 45% complete...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7. Tool: `ravepipeline-mcp_read_current_rave_pipeline_results` - Analysis complete! Here are the power spectrum results...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Warnings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Never execute dangerous operations without explicit user approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Always validate parameters against schema before setting</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Monitor long-running pipelines - don't assume completion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Handle errors gracefully with clear explanations and recovery suggestions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Start with discovery tools before assuming pipeline names or parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Provide context and interpretation with results, not just raw data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - For dangerous: true operations, show WARNING and request double confirmation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Best Practices</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Always Start with Discovery</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Call mcp_list_rave_pipelines() to find available options</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Load the relevant pipeline with mcp_load_rave_pipeline()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Get parameter details with mcp_get_current_rave_pipeline_info()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Present options to user with descriptions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Immediately try to run with guessed pipeline names or parameters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Validate Before Executing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Load pipeline and get parameter schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Validate all parameters against schema (types, ranges, enums)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Confirm settings with user before execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Then execute</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Set parameters and run without checking schema or user confirmation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Monitor Long-Running Operations</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Start pipeline execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Poll mcp_get_current_rave_pipeline_progress every 5 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Report progress to user: "Processing: 45% complete..."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Confirm completion: "Analysis finished successfully!"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Start pipeline and assume it completed without checking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Provide Context with Results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Present interpreted results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "Analysis complete! Here's what I found:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Power spectrum peak at 12 Hz (alpha band)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Mean power: 15.3 µV²/Hz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Would you like me to visualize these results?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Return raw data dumps without interpretation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Handle Errors Gracefully</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Explain what went wrong and suggest fixes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "The analysis encountered an error: 'Invalid frequency range'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  The requested range (2-500 Hz) exceeds Nyquist frequency (500 Hz).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Would you like me to rerun with 2-400 Hz instead?"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Just say 'Error occurred' and stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Required Approval Workflows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> For dangerous operations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1. Present action details: tool, purpose, parameters, expected outcomes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2. Wait for explicit user confirmation - NEVER auto-approve</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3. Execute only after approval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4. Confirm execution started</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Execute dangerous operations without explicit user consent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Parameter Validation Checklist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Do**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Before setting parameters, validate:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Type validation: string, number, boolean, array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Enum validation: value in allowed list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Range validation: numeric bounds, string length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Required parameters: all present</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Dependencies: conditional parameters valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **Don't**:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pass parameters without validation against schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

