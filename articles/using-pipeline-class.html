<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using RAVE Pipelines Programmatically • ravepipeline</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using RAVE Pipelines Programmatically">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ravepipeline</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/using-pipeline-class.html">Using RAVE Pipelines Programmatically</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dipterix/ravepipeline/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using RAVE Pipelines Programmatically</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dipterix/ravepipeline/blob/main/vignettes/using-pipeline-class.Rmd" class="external-link"><code>vignettes/using-pipeline-class.Rmd</code></a></small>
      <div class="d-none name"><code>using-pipeline-class.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dipterix.org/ravepipeline/" class="external-link">ravepipeline</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This vignette demonstrates how to programmatically interact with RAVE
pipelines using the <code>PipelineTools</code> R6 class, accessible via
<code><a href="../reference/pipeline.html">ravepipeline::pipeline()</a></code> and
<code><a href="../reference/pipeline.html">ravepipeline::pipeline_from_path()</a></code>. This interface allows
you to:</p>
<ul>
<li>Load and inspect pipelines</li>
<li>Configure pipeline parameters (inputs, options)</li>
<li>Execute pipelines with progress monitoring</li>
<li>Retrieve and analyze results</li>
<li>Generate reports</li>
</ul>
<p>This document serves dual purposes:</p>
<ol style="list-style-type: decimal">
<li>
<strong>User guide</strong>: Learn how to use pipelines in scripts
and workflows</li>
<li>
<strong>AI assistant reference</strong>: Instructions for AI agents
to help users work with RAVE pipelines via the Model Context Protocol
(MCP)</li>
</ol>
</div>
<div class="section level2">
<h2 id="installation-and-setup">Installation and Setup<a class="anchor" aria-label="anchor" href="#installation-and-setup"></a>
</h2>
<p>The full RAVE suite installation provides built-in pipelines and demo
data. Please refer to <a href="https://rave.wiki/posts/installation/installation.html" class="external-link uri">https://rave.wiki/posts/installation/installation.html</a>
on how to install RAVE.</p>
<p>Once installed, the demo data is automatically available:</p>
<ul>
<li>
<strong>Project</strong>: <code>"demo"</code>
</li>
<li>
<strong>Subject</strong>: <code>"DemoSubject"</code>
</li>
<li>
<strong>Pipeline</strong>: <code>"power_explorer"</code> (and
others)</li>
</ul>
<div class="section level3">
<h3 id="discovering-available-pipelines">Discovering Available Pipelines<a class="anchor" aria-label="anchor" href="#discovering-available-pipelines"></a>
</h3>
<p>List all installed pipelines:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List all available pipelines</span></span>
<span><span class="va">available_pipelines</span> <span class="op">&lt;-</span> <span class="fu">ravepipeline</span><span class="fu">::</span><span class="fu"><a href="../reference/rave-pipeline.html">pipeline_list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">available_pipelines</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="creating-a-pipeline-instance">Creating a Pipeline Instance<a class="anchor" aria-label="anchor" href="#creating-a-pipeline-instance"></a>
</h2>
<p>The primary interface is the <code><a href="../reference/pipeline.html">pipeline()</a></code> function, which
returns a <code>PipelineTools</code> object:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the power_explorer pipeline</span></span>
<span><span class="va">pipe</span> <span class="op">&lt;-</span> <span class="fu">ravepipeline</span><span class="fu">::</span><span class="fu"><a href="../reference/pipeline.html">pipeline</a></span><span class="op">(</span><span class="st">"power_explorer"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Alternative: load from a specific path</span></span>
<span><span class="co"># pipe &lt;- ravepipeline::pipeline_from_path("/path/to/pipeline/folder")</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="inspecting-pipeline-structure">Inspecting Pipeline Structure<a class="anchor" aria-label="anchor" href="#inspecting-pipeline-structure"></a>
</h2>
<div class="section level3">
<h3 id="pipeline-metadata">Pipeline Metadata<a class="anchor" aria-label="anchor" href="#pipeline-metadata"></a>
</h3>
<p>View pipeline description and metadata:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get pipeline description</span></span>
<span><span class="va">desc</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="va">description</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Pipeline:"</span>, <span class="va">desc</span><span class="op">$</span><span class="va">Package</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Version:"</span>, <span class="va">desc</span><span class="op">$</span><span class="va">Version</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Title:"</span>, <span class="va">desc</span><span class="op">$</span><span class="va">Title</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="available-targets">Available Targets<a class="anchor" aria-label="anchor" href="#available-targets"></a>
</h3>
<p>Examine what the pipeline computes:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View all pipeline targets (computational steps)</span></span>
<span><span class="va">target_table</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="va">target_table</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">target_table</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Target table shows:</span></span>
<span><span class="co"># - Names: target (build variable) identifier</span></span>
<span><span class="co"># - Description: description of the target</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="available-reports">Available Reports<a class="anchor" aria-label="anchor" href="#available-reports"></a>
</h3>
<p>Check what reports can be generated:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List available report templates</span></span>
<span><span class="va">reports</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="va">available_reports</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">reports</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pipeline-settings">Pipeline Settings<a class="anchor" aria-label="anchor" href="#pipeline-settings"></a>
</h3>
<p>Get current pipeline settings:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve all current settings</span></span>
<span><span class="va">all_settings</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">get_settings</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">all_settings</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="configuring-pipeline-parameters">Configuring Pipeline Parameters<a class="anchor" aria-label="anchor" href="#configuring-pipeline-parameters"></a>
</h2>
<div class="section level3">
<h3 id="setting-input-parameters">Setting Input Parameters<a class="anchor" aria-label="anchor" href="#setting-input-parameters"></a>
</h3>
<p>Use <code>$set_settings()</code> to configure pipeline inputs:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Configure power_explorer for demo data</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">set_settings</span><span class="op">(</span></span>
<span>  project_name <span class="op">=</span> <span class="st">"demo"</span>,</span>
<span>  subject_code <span class="op">=</span> <span class="st">"DemoSubject"</span>,</span>
<span>  reference_name <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  epoch_choice <span class="op">=</span> <span class="st">"auditory_onset"</span>,</span>
<span>  epoch_choice__trial_starts <span class="op">=</span> <span class="op">-</span><span class="fl">1L</span>,</span>
<span>  epoch_choice__trial_ends <span class="op">=</span> <span class="fl">2L</span>,</span>
<span>  second_condition_groupings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"ML"</span>, conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"VL"</span>, conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  omnibus_includes_all_electrodes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  loaded_electrodes <span class="op">=</span> <span class="st">"13-16,24"</span>,</span>
<span>  first_condition_groupings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      label <span class="op">=</span> <span class="st">"audio_visual"</span>,</span>
<span>      conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"known_av"</span>, <span class="st">"meant_av"</span>, <span class="st">"last_av"</span>, <span class="st">"drive_av"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      label <span class="op">=</span> <span class="st">"auditory_only"</span>,</span>
<span>      conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"last_a"</span>, <span class="st">"drive_a"</span>, <span class="st">"known_a"</span>, <span class="st">"meant_a"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      label <span class="op">=</span> <span class="st">"visual_only"</span>,</span>
<span>      conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"last_v"</span>, <span class="st">"drive_v"</span>, <span class="st">"known_v"</span>, <span class="st">"meant_v"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  condition_variable <span class="op">=</span> <span class="st">"Condition"</span>,</span>
<span>  baseline_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    window <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    scope <span class="op">=</span> <span class="st">"Per frequency, trial, and electrode"</span>,</span>
<span>    unit_of_analysis <span class="op">=</span> <span class="st">"% Change Power"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  analysis_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      label <span class="op">=</span> <span class="st">"VisStart"</span>,</span>
<span>      event <span class="op">=</span> <span class="st">"Trial Onset"</span>,</span>
<span>      time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>      frequency_dd <span class="op">=</span> <span class="st">"Select one"</span>,</span>
<span>      frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">70L</span>, <span class="fl">150L</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  analysis_electrodes <span class="op">=</span> <span class="st">"14"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="retrieving-specific-settings">Retrieving Specific Settings<a class="anchor" aria-label="anchor" href="#retrieving-specific-settings"></a>
</h3>
<p>Get individual settings with defaults:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get a specific setting</span></span>
<span><span class="va">project</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">get_settings</span><span class="op">(</span><span class="st">"project_name"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">project</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get with default if missing</span></span>
<span><span class="va">missing_val</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">get_settings</span><span class="op">(</span><span class="st">"nonexistent_key"</span>, default <span class="op">=</span> <span class="st">"N/A"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">missing_val</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get with constraint (ensures value is in allowed set)</span></span>
<span><span class="va">reference</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">get_settings</span><span class="op">(</span></span>
<span>  <span class="st">"reference_name"</span>,</span>
<span>  constraint <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"default"</span>, <span class="st">"CAR"</span>, <span class="st">"bipolar"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="running-the-pipeline">Running the Pipeline<a class="anchor" aria-label="anchor" href="#running-the-pipeline"></a>
</h2>
<div class="section level3">
<h3 id="synchronous-execution">Synchronous Execution<a class="anchor" aria-label="anchor" href="#synchronous-execution"></a>
</h3>
<p>Run the pipeline and wait for completion:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run all targets: this will run all build targets (not recommended)</span></span>
<span><span class="co"># pipe$run()</span></span>
<span></span>
<span><span class="co"># Run specific targets only</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"repository"</span>, <span class="st">"baselined_power"</span>, <span class="st">"over_time_by_condition_data"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p>The pipeline will automatically determine which targets to update:
for example, <code>"over_time_by_condition_data"</code> depends on
target <code>"repository"</code> and <code>"baselined_power"</code>.
Even if user does not specify to run <code>"repository"</code> or
<code>"baselined_power"</code> explicitly, pipeline will still evaluate
this target, hence</p>
</blockquote>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pipe</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"repository"</span>, <span class="st">"baselined_power"</span>, <span class="st">"over_time_by_condition_data"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>runs the same underlying code as</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pipe</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span>names <span class="op">=</span> <span class="st">"over_time_by_condition_data"</span><span class="op">)</span></span></code></pre></div>
<p>The only difference is the first line returns the value of all three
targets, while the second line only returns target result for
<code>"over_time_by_condition_data"</code></p>
</div>
<div class="section level3">
<h3 id="asynchronous-execution-experimental">Asynchronous Execution (experimental)<a class="anchor" aria-label="anchor" href="#asynchronous-execution-experimental"></a>
</h3>
<p>Run pipeline in background with progress tracking:</p>
<!--
Note: The deprecated pipe$run(async=TRUE) method is no longer recommended
-->
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Start pipeline execution as a background job</span></span>
<span><span class="co"># This is the recommended way to run pipelines without blocking</span></span>
<span><span class="va">job_id</span> <span class="op">&lt;-</span> <span class="fu">ravepipeline</span><span class="fu">::</span><span class="fu"><a href="../reference/rave-pipeline-jobs.html">start_job</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"power_explorer_analysis"</span>,</span>
<span></span>
<span>  <span class="co"># Run this function as a background job</span></span>
<span>  fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">pipe</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">pipe</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"repository"</span>, <span class="st">"over_time_by_condition_data"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span></span>
<span>  <span class="co"># expose `pipe` to background job</span></span>
<span>  fun_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pipe <span class="op">=</span> <span class="va">pipe</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check job status</span></span>
<span><span class="va">job_results</span> <span class="op">&lt;-</span> <span class="fu">ravepipeline</span><span class="fu">::</span><span class="fu"><a href="../reference/rave-pipeline-jobs.html">resolve_job</a></span><span class="op">(</span><span class="va">job_id</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">job_results</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="execution-options">Execution Options<a class="anchor" aria-label="anchor" href="#execution-options"></a>
</h3>
<p>Control how the pipeline runs:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run with parallel processing</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="st">"over_time_by_condition_data"</span>,</span>
<span>  scheduler <span class="op">=</span> <span class="st">"future"</span>,  <span class="co"># Use future for parallel execution</span></span>
<span>  return_values <span class="op">=</span> <span class="cn">FALSE</span>  <span class="co"># Do not return values (default is TRUE)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run with each target with isolated clean environment (but slower)</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="st">"over_time_by_condition_data"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"callr"</span>,</span>
<span>  return_values <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Debug mode (more verbose output)</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="st">"over_time_by_condition_data"</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  return_values <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="monitoring-pipeline-execution">Monitoring Pipeline Execution<a class="anchor" aria-label="anchor" href="#monitoring-pipeline-execution"></a>
</h2>
<div class="section level3">
<h3 id="progress-summary">Progress Summary<a class="anchor" aria-label="anchor" href="#progress-summary"></a>
</h3>
<p>Check pipeline progress:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Quick summary</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">progress</span><span class="op">(</span><span class="st">"summary"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Detailed progress for each target</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">progress</span><span class="op">(</span><span class="st">"details"</span><span class="op">)</span></span></code></pre></div>
<p><code>completed</code> means the target was executed;
<code>skipped</code> means the target has been executed before but
skipped because the previous results can be reused (typically the
depending target results remain unchanged during the session);
<code>errored</code> means the target ran into an error.</p>
</div>
<div class="section level3">
<h3 id="result-table">Result Table<a class="anchor" aria-label="anchor" href="#result-table"></a>
</h3>
<p>View results with data signatures:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get table of results with metadata</span></span>
<span><span class="va">results_summary</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="va">result_table</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">results_summary</span>, max.level <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># tibble [30 × 18] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#   $ name      : chr [1:30] "settings_path" "analysis_electrodes" ...</span></span>
<span><span class="co">#   $ type      : chr [1:30] "stem" "stem" "stem" "stem" ...</span></span>
<span><span class="co">#   $ data      : chr [1:30] "87464f5e9f50ed67" "ea945b95c2940f9e" ...</span></span>
<span><span class="co">#   $ command   : chr [1:30] "0bc648d2b33e5acd" "7272b9187fc425a0" ...</span></span>
<span><span class="co">#   $ depend    : chr [1:30] "2c530c1562a7fbd1" "7ac856221f002d65" ...</span></span>
<span><span class="co">#   $ seed      : int [1:30] 853402860 -847753771 -444014686 1434286487 ...</span></span>
<span><span class="co">#   $ path      :List of 30</span></span>
<span><span class="co">#   $ time      : POSIXct[1:30], format: "2026-01-19 14:47:39" ...</span></span>
<span><span class="co">#   $ size      : chr [1:30] "s1596b" "s55b" "s199b" "s62b" ...</span></span>
<span><span class="co">#   $ bytes     : num [1:30] 1596 55 199 62 48 ...</span></span>
<span><span class="co">#   $ format    : chr [1:30] "file" "rds" "rds" "rds" ...</span></span>
<span><span class="co">#   $ repository: chr [1:30] "local" "local" "local" "local" ...</span></span>
<span><span class="co">#   $ iteration : chr [1:30] "vector" "vector" "vector" "vector" ...</span></span>
<span><span class="co">#   $ parent    : chr [1:30] NA NA NA NA ...</span></span>
<span><span class="co">#   $ children  :List of 30</span></span>
<span><span class="co">#   $ seconds   : num [1:30] 0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#   $ warnings  : chr [1:30] NA NA NA NA ...</span></span>
<span><span class="co">#   $ error     : chr [1:30] NA NA NA NA ...</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dependency-visualization">Dependency Visualization<a class="anchor" aria-label="anchor" href="#dependency-visualization"></a>
</h3>
<p>Visualize pipeline structure: both method shows graph dependencies
using <code>visNetwork</code> package, with <code>glimpse = TRUE</code>
only showing the dependency while <code>glimpse = FALSE</code> (default)
also shows the target node status.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Interactive dependency graph with evaluation flow</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">visualize</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Quick glimpse of interactive dependency graph without evaluations</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">visualize</span><span class="op">(</span>glimpse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="retrieving-pipeline-results">Retrieving Pipeline Results<a class="anchor" aria-label="anchor" href="#retrieving-pipeline-results"></a>
</h2>
<div class="section level3">
<h3 id="reading-all-results">Reading All Results<a class="anchor" aria-label="anchor" href="#reading-all-results"></a>
</h3>
<p>Get all computed results:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read all pipeline outputs</span></span>
<span><span class="va">all_results</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">all_results</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reading-specific-results">Reading Specific Results<a class="anchor" aria-label="anchor" href="#reading-specific-results"></a>
</h3>
<p>Retrieve individual or multiple results:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read single result</span></span>
<span><span class="va">repository</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="st">"repository"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read multiple results</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"repository"</span>, <span class="st">"over_time_by_condition_data"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># With default for missing results with a fallback `NULL`</span></span>
<span><span class="va">safe_result</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="st">"maybe_missing"</span>, ifnotfound <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-bracket-notation">Using Bracket Notation<a class="anchor" aria-label="anchor" href="#using-bracket-notation"></a>
</h3>
<p>Shorthand syntax for reading results:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Equivalent to pipe$read()</span></span>
<span><span class="va">power_data</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">[</span><span class="st">"repository"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Multiple results</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"repository"</span>, <span class="st">"over_time_by_condition_data"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Exclude specific results (get everything except these)</span></span>
<span><span class="va">most_results</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"over_time_by_condition_data"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reading-with-dependencies">Reading with Dependencies<a class="anchor" aria-label="anchor" href="#reading-with-dependencies"></a>
</h3>
<p>Include upstream dependencies: this is useful in getting all the data
used to generate the targets</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read target and all its dependencies</span></span>
<span><span class="va">full_result</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span></span>
<span>  <span class="st">"repository"</span>,</span>
<span>  dependencies <span class="op">=</span> <span class="st">"all"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read target and direct ancestors only</span></span>
<span><span class="va">partial_result</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span></span>
<span>  <span class="st">"repository"</span>,</span>
<span>  dependencies <span class="op">=</span> <span class="st">"ancestors_only"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-features">Advanced Features<a class="anchor" aria-label="anchor" href="#advanced-features"></a>
</h2>
<div class="section level3">
<h3 id="interactive-debugging-with-eval">Interactive Debugging with eval()<a class="anchor" aria-label="anchor" href="#interactive-debugging-with-eval"></a>
</h3>
<p>Evaluate targets step-by-step without using the cache:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run specific targets in order, get environment with results</span></span>
<span><span class="va">env</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">eval</span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"repository"</span>, <span class="st">"baselined_power"</span>, <span class="st">"trial_details"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Inspect intermediate results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="va">env</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">env</span><span class="op">$</span><span class="va">trial_details</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use shortcut to skip already-loaded/executed dependencies</span></span>
<span><span class="co"># Warning: the expired dependencies will not be evaluated so</span></span>
<span><span class="co"># only use it for debugging or quick updating the target</span></span>
<span><span class="va">env</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">eval</span><span class="op">(</span></span>
<span>  names <span class="op">=</span> <span class="st">"over_time_by_condition_data"</span>,</span>
<span>  shortcut <span class="op">=</span> <span class="cn">TRUE</span>  <span class="co"># Skip deps already in environment</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-pipeline-runtime-helpers">Use Pipeline Runtime Helpers<a class="anchor" aria-label="anchor" href="#use-pipeline-runtime-helpers"></a>
</h3>
<p>Pipeline typically generates intermediate data. Users still need to
use the data for visualizations. For example</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span><span class="st">"over_time_by_condition_data"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">plot_data</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># List of 3</span></span>
<span><span class="co">#  $ audio_visual :List of 1</span></span>
<span><span class="co">#  $ auditory_only:List of 1</span></span>
<span><span class="co">#  $ visual_only  :List of 1</span></span></code></pre></div>
<p>The data is a list of data. To visualize the data, pipelines may have
helpers that visualize the generated data. These helpers can be loaded
via</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load runtime environment</span></span>
<span><span class="va">runtime_env</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">shared_env</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Internal helpers</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="va">runtime_env</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the over_time_by_condition_data</span></span>
<span><span class="va">runtime_env</span><span class="op">$</span><span class="fu">plot_over_time_by_condition</span><span class="op">(</span><span class="va">plot_data</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="external-data-management">External Data Management<a class="anchor" aria-label="anchor" href="#external-data-management"></a>
</h3>
<p>RAVE pipelines use <code>YAML</code> format to store the input
settings and options. Some pipelines might require additional large data
or data with complicated structures.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">additional_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span><span class="op">)</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save large object to pipeline data folder</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">save_data</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">additional_data</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"precomputed_matrix"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"rds"</span>,  <span class="co"># Arbitrary R format</span></span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load it back</span></span>
<span><span class="va">matrix</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">load_data</span><span class="op">(</span><span class="st">"precomputed_matrix"</span>, format <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Other formats: (for lists: "json", "yaml"), (for tables: "csv", "fst")</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">save_data</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    a <span class="op">=</span> <span class="va">letters</span></span>
<span>  <span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"letters"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"csv"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="forking-pipelines">Forking Pipelines<a class="anchor" aria-label="anchor" href="#forking-pipelines"></a>
</h3>
<p>Create a copy of the pipeline:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy pipeline to new location</span></span>
<span><span class="co"># This example forks to temporary folder</span></span>
<span><span class="va">new_pipe</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">fork</span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">pipe</span><span class="op">$</span><span class="va">pipeline_name</span><span class="op">)</span>,</span>
<span>  policy <span class="op">=</span> <span class="st">"default"</span>  <span class="co"># Copy policy</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The new pipeline is independent</span></span>
<span><span class="va">new_pipe</span><span class="op">$</span><span class="va">pipeline_path</span></span>
<span><span class="co"># [1] "..../RtmpCCl3Hf/file1565d24c91e48/power_explorer"</span></span>
<span><span class="co"># attr(,"target_name")</span></span>
<span><span class="co"># [1] "power_explorer"</span></span>
<span><span class="co"># attr(,"target_script")</span></span>
<span><span class="co"># [1] "make-power_explorer.R"</span></span>
<span><span class="co"># attr(,"target_directory")</span></span>
<span><span class="co"># [1] "shared"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="preference-management-experimental">Preference Management (experimental)<a class="anchor" aria-label="anchor" href="#preference-management-experimental"></a>
</h3>
<p><em>Not all built-in modules implement the same preference management
system. This depends on the module developers to implement. Here is the
guideline (recommended ways) to store preferences.</em></p>
<p>Store <code>UI</code> preferences (non-analysis settings): the
preference ID must have syntax
<code>[global/&lt;module ID&gt;].[type].[key]</code>. For example:
<code>global.graphics.ui_theme</code>,
<code>power_explorer.graphics.plot_color</code>. <code>Globals</code>
are shared options across modules.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set persistent preferences (won't invalidate pipeline)</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">set_preferences</span><span class="op">(</span></span>
<span>  power_explorer.graphics.plot_color <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>  global.graphics.ui_theme <span class="op">=</span> <span class="st">"dark"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get preferences</span></span>
<span><span class="va">color</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">get_preferences</span><span class="op">(</span></span>
<span>  keys <span class="op">=</span> <span class="st">"power_explorer.graphics.plot_color"</span>, </span>
<span>  ifnotfound <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check if preference exists</span></span>
<span><span class="va">has_theme</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">has_preferences</span><span class="op">(</span></span>
<span>  keys <span class="op">=</span> <span class="st">"global.graphics.ui_theme"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="report-generation">Report Generation<a class="anchor" aria-label="anchor" href="#report-generation"></a>
</h3>
<p>Generate analysis reports:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List available reports</span></span>
<span><span class="va">reports</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="va">available_reports</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">reports</span><span class="op">)</span></span>
<span><span class="co"># Example output for power_explorer:</span></span>
<span><span class="co"># $univariatePower</span></span>
<span><span class="co">#   $name: "univariatePower"</span></span>
<span><span class="co">#   $label: "Univariate Power Spectrogram Analysis"</span></span>
<span><span class="co">#   $entry: "report-univariate.Rmd"</span></span>
<span></span>
<span><span class="co"># Generate a report</span></span>
<span><span class="va">report_id</span> <span class="op">&lt;-</span> <span class="va">pipe</span><span class="op">$</span><span class="fu">generate_report</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"univariatePower"</span>,  <span class="co"># Use the report name from available_reports</span></span>
<span>  output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  output_format <span class="op">=</span> <span class="st">"html_document"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">ravepipeline</span><span class="fu">::</span><span class="fu"><a href="../reference/rave-pipeline-jobs.html">resolve_job</a></span><span class="op">(</span><span class="va">report_id</span><span class="op">)</span></span></code></pre></div>
<p>Because a report might take long to generate. The process typically
runs as a background job.</p>
</div>
<div class="section level3">
<h3 id="cleaning-pipeline-cache">Cleaning Pipeline Cache<a class="anchor" aria-label="anchor" href="#cleaning-pipeline-cache"></a>
</h3>
<p>Remove cached results:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clean cache (keep pipeline structure)</span></span>
<span><span class="va">pipe</span><span class="op">$</span><span class="fu">clean</span><span class="op">(</span>destroy <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="understanding-pipeline-structure">Understanding Pipeline Structure<a class="anchor" aria-label="anchor" href="#understanding-pipeline-structure"></a>
</h2>
<p>RAVE pipelines typically use the <a href="https://github.com/rave-ieeg/rave-pipelines/tree/main/inst/rave-pipelines/template-rmd" class="external-link"><code>template-rmd</code></a>
structure, where:</p>
<div class="section level3">
<h3 id="main-development-file-main-rmd">Main Development File: <code>main.Rmd</code><a class="anchor" aria-label="anchor" href="#main-development-file-main-rmd"></a>
</h3>
<p>The <code>main.Rmd</code> file is where users write pipeline logic
using R Markdown with special <code>rave</code> code chunks:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="in">```\{rave load_subject, export = "subject"\}</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="in"># This target loads subject instance</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="in">subject &lt;- ravecore::new_rave_subject(</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="in">  project_name = project_name, </span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a><span class="in">  subject_code = subject_code</span></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="in">subject</span></span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Key features:</p>
<ul>
<li>
<strong>Chunk label</strong>: becomes the target description
(<code>load_subject</code> will be interpreted as
<code>Load subject</code>) from the
<code>pipeline$target_table</code>
</li>
<li>
<strong><code>export</code> parameter</strong>: becomes the target
name, and also a variable to make available to subsequent chunks: this
means the code chunk must create a variable <code>subject</code>.</li>
<li>
<strong><code>deps</code> parameter</strong>: automatically detected
or specified with <code>deps</code> parameter: this chunk requires
variable <code>project_name</code> and <code>subject_code</code>. These
variables are typically generated by previous chunks or defined in the
settings file (see below). Upon building the file, RAVE automatically
detects these dependencies and assigns
<code>deps=c("project_name", "subject_code")</code>
</li>
<li>
<strong><code>language</code> parameter</strong>: the back-bone
language of the block: RAVE supports running <code>R</code> and
<code>python</code>. The default option is <code>"R"</code>, and
<code>"python"</code> is experimental.</li>
</ul>
</div>
<div class="section level3">
<h3 id="settings-file-settings-yaml">Settings File: settings.yaml<a class="anchor" aria-label="anchor" href="#settings-file-settings-yaml"></a>
</h3>
<p>Stores user inputs that configure the pipeline:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="fu">project_name</span><span class="kw">:</span><span class="at"> </span><span class="st">"demo"</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="fu">subject_code</span><span class="kw">:</span><span class="at"> </span><span class="st">"DemoSubject"</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="fu">loaded_electrodes</span><span class="kw">:</span><span class="at"> </span><span class="st">"14-16,24"</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="fu">epoch_choice</span><span class="kw">:</span><span class="at"> </span><span class="st">"auditory_onset"</span></span></code></pre></div>
<p>These settings are accessible as variables in the pipeline code.</p>
</div>
<div class="section level3">
<h3 id="configuration-files">Configuration Files<a class="anchor" aria-label="anchor" href="#configuration-files"></a>
</h3>
<ul>
<li>
<strong><code>RAVE-CONFIG</code></strong> or
<strong><code>DESCRIPTION</code></strong>: Pipeline metadata (name,
version, dependencies)</li>
<li>
<strong><code>common.R</code></strong>: Shared initialization code
internally used by the <code>ravepipeline</code> package</li>
</ul>
</div>
<div class="section level3">
<h3 id="generated-scripts">Generated Scripts<a class="anchor" aria-label="anchor" href="#generated-scripts"></a>
</h3>
<p>When you compile <code>main.Rmd</code>, it generates:</p>
<ul>
<li>
<strong><code>make-*.R</code></strong>: Target definitions for the
<code>targets</code> package</li>
<li>Pipeline builds these automatically when needed</li>
</ul>
</div>
<div class="section level3">
<h3 id="shared-functions-rshared--r">Shared Functions: R/shared-*.R<a class="anchor" aria-label="anchor" href="#shared-functions-rshared--r"></a>
</h3>
<p>Helper functions and targets configuration:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># R/shared-functions.R</span></span>
<span><span class="va">my_helper</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Reusable pipeline function</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then function <code>my_helper</code> will be available during the
runtime, and RAVE pipeline chunks will have access to this function
automatically.</p>
</div>
<div class="section level3">
<h3 id="compilation-workflow">Compilation Workflow<a class="anchor" aria-label="anchor" href="#compilation-workflow"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Edit <code>main.Rmd</code> with your analysis logic</li>
<li>Knit the document (or call
<code>ravepipeline::pipeline_build(pipe_dir)</code>)</li>
<li>Generated <code>make-*.R</code> scripts define pipeline targets</li>
<li>Use <code><a href="../reference/pipeline.html">ravepipeline::pipeline_from_path()</a></code> to load and
execute</li>
</ol>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
